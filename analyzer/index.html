<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>タイル画像解析アプリ</title>
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        #drop-area { 
            border: 2px dashed #ccc; 
            padding: 50px; 
            text-align: center; 
            cursor: pointer;
            margin-bottom: 20px;
        }
        #controls button {
            padding: 10px 20px;
            margin-right: 10px;
        }
        #log { 
            margin-top: 20px; 
            white-space: pre-wrap; 
            background: #f4f4f4; 
            padding: 15px; 
            min-height: 150px; 
            overflow-y: auto;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <h1>タイル画像解析 (Analyzer App)</h1>
    <p>フォルダまたは画像ファイルをまとめてドラッグ＆ドロップしてください。解析後、JSONをダウンロードし、画像ファイルを /mosaic/tiles/ に移動させてください。</p>
    
    <div id="drop-area">
        タイル画像をここにドラッグ＆ドロップ
    </div>

    <div id="controls">
        <button id="start-analysis" disabled>解析開始</button>
        <button id="download-json-button" disabled>JSONをダウンロード</button>
    </div>

    <div id="log">ログ: 解析を待機中...</div>

    <!-- Workerスクリプトを読み込む (互換性維持のため worker.js を参照) -->
    <script src="analyzer.js"></script>
    <script src="worker.js"></script> 
</body>
</html>
